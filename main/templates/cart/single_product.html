{% extends 'base/base.html' %}
{% load static %}

{% block links %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant:ital,wght@0,300..700;1,300..700&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="{% static 'shop/styles/single_product.css' %}"/>
{% endblock %}

{% block main %}

<div class="container text-center">
    <h1 class="mt-5 mb-5">{{ product.title }}</h1>
    <img class="img-fluid rounded" src="{{ product.url_image }}" alt="" width="300px", height="300px">
    <p class="pt-3 pb-3 fs-3">Цена: {{ product.price }}</p>
    <p class="text-left fs-3">{{ product.subcription}}</p>
    <div class="p-2 text-center">
        
        <!-- <a class="btn btn-danger m-3" href="{% url 'shop:view_cart' %}">Вернуться назад</a> -->

        {% with products_url='http://127.0.0.1:8000/shop/products/' cart_url='http://127.0.0.1:8000/shop/cart/' %}
        {% if referrer_url == products_url %}
            <a class="btn btn-danger m-3" href="{% url 'shop:view_products' %}">Вернуться назад</a>
        {% elif referrer_url == cart_url %}
            <a class="btn btn-danger m-3" href="{% url 'shop:view_cart' %}">Вернуться назад</a>
        {% else %}
            <a class="btn btn-danger m-3" href="{% url 'shop:view_products' %}">Вернуться назад</a>
        {% endif %}
        {% endwith %}
    
        <button class="btn btn-warning m-3" type="submit">Купить</button>
    </div>
    <hr>
    {{ referrer_url }}
</div>

{% endblock %}